<!-- Viewer -->
<div data-viewer-type="<%=document._source['viewer_type_ssi']%>">
  <% case document._source['viewer_type_ssi'] %>
    <% when 'image' %>
      <%= render partial: 'viewers/uv_image', locals: { document: document } %>
    <% when 'kaltura_audio' %>
      <%= render partial: 'viewers/uv_audio', locals: { document: document } %>
    <% when 'kaltura_video' %>
      <%= render partial: 'viewers/uv_video', locals: { document: document } %>
    <% when 'kaltura_audio_playlist' %>
      <%= render partial: 'viewers/uv_audio_playlist', locals: { document: document } %>
    <% else %>
      <%= render partial: 'viewers/uv_iiif_manifest', locals: { document: document } %>
  <% end %>
</div>

<!-- Metadata Fields -->
<% doc_presenter = document_presenter(document) %>
<hr>

<% doc_presenter.config_type.each do | obj | %>
  <%= doc_presenter.type_arr( obj[0] )==true ? obj[1] : "" %>

  <% doc_presenter.each_field( obj[0] ) do |field_name, field, field_presenter| %>
    <%= render "show_fields", document: document, field_name: field_name, field_presenter: field_presenter %>
  <% end -%>
<% end %>
